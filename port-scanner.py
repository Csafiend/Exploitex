import socket
from colorama import Fore
target_host = input(Fore.RED + "Enter the target host: ")
while True:
    print('[1] Scan a custom port')
    print("[2] Use the default scanner")
    ans = input("Options: ")

    if ans == "1":
        target_ports = [int(input("Enter the port to scan: "))]
    elif ans == "2":
        target_ports = [80, 22, 3389, 8080, 222, 4444, 8888, 16384, 32767, 16384, 32767, 3128, 3128, 5900, 123, 6667, 6697, 389, 636, 548, 5353, 2049, 6379, 11211, 873, 5353, 5222, 5223, 443, 21, 25]
    else:
        print("Invalid option. Please try again.")
        continue

    break

def scan_port(host, port):
    try:
        # Create a socket object
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

        # Set a timeout value for the connection attempt
        sock.settimeout(5)

        # Connect to the target host and port
        result = sock.connect_ex((host, port))

        if result == 0:
            print(f"Port {port} is open")
        else:
            print(f"Port {port} is closed")

        # Close the socket
        sock.close()

    except socket.error:
        print(f"Could not connect to {host}:{port}")

# Perform port scanning for each target port
for port in target_ports:
    scan_port(target_host, port)